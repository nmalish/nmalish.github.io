{"version":3,"sources":["webpack:///src/app/modules/admin/components/students/index.vue","webpack:///./src/app/modules/admin/components/students/index.vue?cb4c","webpack:///./src/app/modules/admin/components/students/index.vue","webpack:///./src/app/modules/admin/components/students/store.js"],"names":["__webpack_exports__","mixins","__WEBPACK_IMPORTED_MODULE_2__mixin__","components","ConfirmDialog","__WEBPACK_IMPORTED_MODULE_4__shared_ConfirmDialog__","constants","headers","text","value","rules","Name","v","length","RecordBook","test","StudentIdCard","Phone","Email","GroupId","computed","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","Object","__WEBPACK_IMPORTED_MODULE_3_vuex__","tableData","userKeyValues","groupKeyValues","modelsEqual","global","valueEquals","this","model","modelCopy","ApplicationUserId","methods","created","getUsers","getGroups","components_students","render","_vm","_h","$createElement","_c","_self","attrs","grid-list-md","text-xs-center","row","wrap","fill-height","xs12","xs7","_v","staticClass","append-icon","label","callback","$$v","searchFilter","expression","items","search","hide-actions","disable-initial-sort","scopedSlots","_u","key","fn","ref","item","active","Id","on","click","$event","rowSelected","_s","align-center","justify-space-between","mt-3","directives","name","rawName","isChanged","color","addEvent","deleteEvent","cancelEvent","saveEvent","xs-6","offset-xs1","lazy-validation","valid","counter","required","validate-on-blur","$set","title","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","students","actions","getAll","context","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","student","result","commit","getById","id","user","group","add","payload","body","update","delete","mutations","setStudentList","state","list","studentList","setUserList","userList","setGroupList","groupList","addStudent","push","updateStudent","index","findIndex","splice","deleteStudent","store","registerModule","namespaced","getters","map","UserName"],"mappings":"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","file":"static/js/4.dd5ca78f29ae492c1cd8.js","sourcesContent":["<template>\r\n  <div>\r\n    <v-container grid-list-md text-xs-center>\r\n      <v-layout row wrap fill-height>\r\n        <v-flex xs12>\r\n          <v-flex xs7>\r\n            <v-card-title>\r\n              <h1>Students</h1>\r\n              <v-spacer />\r\n              <v-text-field\r\n                v-model=\"searchFilter\"\r\n                append-icon=\"search\"\r\n                label=\"Search\"\r\n                class=\"search-field\" />\r\n            </v-card-title>\r\n          </v-flex>\r\n        </v-flex>\r\n        <v-layout row>\r\n          <v-flex xs7>\r\n            <div class=\"data-table\">\r\n            <v-data-table\r\n              :headers=\"headers\"\r\n              :items=\"tableData\"\r\n              :search=\"searchFilter\"\r\n              hide-actions\r\n              disable-initial-sort\r\n              class=\"elevation-1 data-table\">\r\n              <template slot=\"items\" slot-scope=\"{ item }\">\r\n                <tr :active=\"item.Id === model.Id\" @click=\"rowSelected(item)\">\r\n                  <td class=\"text-xs-left\">{{ item.Name }}</td>\r\n                  <td class=\"text-xs-left\">{{ item.Email }}</td>\r\n                  <td class=\"text-xs-left\">{{ item.Phone }}</td>\r\n                </tr>\r\n              </template>\r\n            </v-data-table>\r\n            </div>\r\n            <v-layout align-center justify-space-between row mt-3>\r\n              <div>\r\n                <v-btn @click=\"addEvent\" v-show=\"!isChanged\" color=\"success\">Add</v-btn>\r\n                <v-btn @click=\"deleteEvent\" v-show=\"!isChanged\" color=\"error\">Delete</v-btn>\r\n              </div>\r\n              <div>\r\n                <v-btn @click=\"cancelEvent\" v-show=\"isChanged\" color=\"normal\">Cancel</v-btn>\r\n                <v-btn @click=\"saveEvent\" v-show=\"isChanged\" color=\"info\">Save</v-btn>\r\n              </div>\r\n            </v-layout>\r\n          </v-flex>\r\n          <v-flex xs-6 offset-xs1>\r\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n              <v-text-field\r\n                v-model=\"model.Name\"\r\n                :rules=\"rules.Name\"\r\n                :counter=\"250\"\r\n                label=\"Name\"\r\n                required\r\n                validate-on-blur\r\n              />\r\n              <v-text-field\r\n                v-model=\"model.RecordBook\"\r\n                :counter=\"50\"\r\n                :rules=\"rules.RecordBook\"\r\n                label=\"RecordBook\"\r\n                validate-on-blur\r\n              />\r\n              <v-text-field\r\n              v-model=\"model.StudentIdCard\"\r\n              :counter=\"50\"\r\n              :rules=\"rules.StudentIdCard\"\r\n              label=\"StudentIdCard\"\r\n              validate-on-blur\r\n            />\r\n              <v-text-field\r\n                v-model=\"model.Email\"\r\n                :rules=\"rules.Email\"\r\n                label=\"Email\"\r\n                required\r\n                validate-on-blur\r\n              />\r\n              <v-text-field\r\n                v-model=\"model.Phone\"\r\n                :rules=\"rules.Phone\"\r\n                label=\"Phone\"\r\n                required\r\n                validate-on-blur\r\n              />\r\n              <v-select\r\n                :items=\"userKeyValues\"\r\n                v-model=\"model.ApplicationUserId\"\r\n                label=\"User\"\r\n                required\r\n                validate-on-blur\r\n              />\r\n              <v-select\r\n                :items=\"groupKeyValues\"\r\n                v-model=\"model.GroupId\"\r\n                :rules=\"rules.GroupId\"\r\n                label=\"Group\"\r\n                required\r\n                validate-on-blur\r\n              />\r\n            </v-form>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-layout>\r\n    </v-container>\r\n    <confirm-dialog\r\n      ref=\"confirm\"\r\n      title=\"Ви впевнені?\"\r\n      text=\"Відмінити видалення неможливо.\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './store'\r\nimport mixin from '../../mixin'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport ConfirmDialog from '../../shared/ConfirmDialog'\r\n\r\nexport default {\r\n  mixins: [\r\n    mixin\r\n  ],\r\n  components: {\r\n    ConfirmDialog\r\n  },\r\n  constants: {\r\n    headers: [\r\n      { text: 'Name', value: 'Name' },\r\n      { text: 'Email', value: 'Email' },\r\n      { text: 'Phone', value: 'Phone' }\r\n    ],\r\n    rules: {\r\n      Name: [\r\n        v => !!v || 'Name is required',\r\n        v => (v && v.length <= 250) || 'Name must be less than 250 characters'\r\n      ],\r\n      RecordBook: [\r\n        v => /^[0-9]*$/.test(v) || 'RecordBook must be valid'\r\n      ],\r\n      StudentIdCard: [\r\n        v => /^[0-9]*$/.test(v) || 'StudentIdCard must be valid'\r\n      ],\r\n      Phone: [\r\n        v => /^[0-9]*$/.test(v) || 'Phone must be valid'\r\n      ],\r\n      Email: [\r\n        v => !!v || 'E-mail is required',\r\n        v => /.+@.+/.test(v) || 'E-mail must be valid'\r\n      ],\r\n      GroupId: [\r\n        v => !!v || 'Group is required'\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('admin/student', {\r\n      tableData: 'studentList',\r\n      userKeyValues: 'userKeyValues',\r\n      groupKeyValues: 'groupKeyValues'\r\n    }),\r\n    modelsEqual () {\r\n      return (\r\n        global.valueEquals(this.model.Name, this.modelCopy.Name) &&\r\n        global.valueEquals(this.model.ApplicationUserId, this.modelCopy.ApplicationUserId) &&\r\n        global.valueEquals(this.model.Email, this.modelCopy.Email) &&\r\n        global.valueEquals(this.model.Phone, this.modelCopy.Phone) &&\r\n        global.valueEquals(this.model.GroupId, this.modelCopy.GroupId) &&\r\n        global.valueEquals(this.model.StudentIdCard, this.modelCopy.StudentIdCard) &&\r\n        global.valueEquals(this.model.RecordBook, this.modelCopy.RecordBook)\r\n      )\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('admin/student', [\r\n      'getAll',\r\n      'getById',\r\n      'getUsers',\r\n      'getGroups',\r\n      'add',\r\n      'update',\r\n      'delete'\r\n    ])\r\n  },\r\n  created () {\r\n    this.getUsers()\r\n    this.getGroups()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/app/modules/admin/components/students/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-flex',{attrs:{\"xs7\":\"\"}},[_c('v-card-title',[_c('h1',[_vm._v(\"Students\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-text-field',{staticClass:\"search-field\",attrs:{\"append-icon\":\"search\",\"label\":\"Search\"},model:{value:(_vm.searchFilter),callback:function ($$v) {_vm.searchFilter=$$v},expression:\"searchFilter\"}})],1)],1)],1),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs7\":\"\"}},[_c('div',{staticClass:\"data-table\"},[_c('v-data-table',{staticClass:\"elevation-1 data-table\",attrs:{\"headers\":_vm.headers,\"items\":_vm.tableData,\"search\":_vm.searchFilter,\"hide-actions\":\"\",\"disable-initial-sort\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('tr',{attrs:{\"active\":item.Id === _vm.model.Id},on:{\"click\":function($event){_vm.rowSelected(item)}}},[_c('td',{staticClass:\"text-xs-left\"},[_vm._v(_vm._s(item.Name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-left\"},[_vm._v(_vm._s(item.Email))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-left\"},[_vm._v(_vm._s(item.Phone))])])]}}])})],1),_vm._v(\" \"),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-space-between\":\"\",\"row\":\"\",\"mt-3\":\"\"}},[_c('div',[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isChanged),expression:\"!isChanged\"}],attrs:{\"color\":\"success\"},on:{\"click\":_vm.addEvent}},[_vm._v(\"Add\")]),_vm._v(\" \"),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isChanged),expression:\"!isChanged\"}],attrs:{\"color\":\"error\"},on:{\"click\":_vm.deleteEvent}},[_vm._v(\"Delete\")])],1),_vm._v(\" \"),_c('div',[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isChanged),expression:\"isChanged\"}],attrs:{\"color\":\"normal\"},on:{\"click\":_vm.cancelEvent}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isChanged),expression:\"isChanged\"}],attrs:{\"color\":\"info\"},on:{\"click\":_vm.saveEvent}},[_vm._v(\"Save\")])],1)])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs-6\":\"\",\"offset-xs1\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.Name,\"counter\":250,\"label\":\"Name\",\"required\":\"\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.Name),callback:function ($$v) {_vm.$set(_vm.model, \"Name\", $$v)},expression:\"model.Name\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"counter\":50,\"rules\":_vm.rules.RecordBook,\"label\":\"RecordBook\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.RecordBook),callback:function ($$v) {_vm.$set(_vm.model, \"RecordBook\", $$v)},expression:\"model.RecordBook\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"counter\":50,\"rules\":_vm.rules.StudentIdCard,\"label\":\"StudentIdCard\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.StudentIdCard),callback:function ($$v) {_vm.$set(_vm.model, \"StudentIdCard\", $$v)},expression:\"model.StudentIdCard\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.rules.Email,\"label\":\"Email\",\"required\":\"\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.Email),callback:function ($$v) {_vm.$set(_vm.model, \"Email\", $$v)},expression:\"model.Email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.rules.Phone,\"label\":\"Phone\",\"required\":\"\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.Phone),callback:function ($$v) {_vm.$set(_vm.model, \"Phone\", $$v)},expression:\"model.Phone\"}}),_vm._v(\" \"),_c('v-select',{attrs:{\"items\":_vm.userKeyValues,\"label\":\"User\",\"required\":\"\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.ApplicationUserId),callback:function ($$v) {_vm.$set(_vm.model, \"ApplicationUserId\", $$v)},expression:\"model.ApplicationUserId\"}}),_vm._v(\" \"),_c('v-select',{attrs:{\"items\":_vm.groupKeyValues,\"rules\":_vm.rules.GroupId,\"label\":\"Group\",\"required\":\"\",\"validate-on-blur\":\"\"},model:{value:(_vm.model.GroupId),callback:function ($$v) {_vm.$set(_vm.model, \"GroupId\", $$v)},expression:\"model.GroupId\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('confirm-dialog',{ref:\"confirm\",attrs:{\"title\":\"Ви впевнені?\",\"text\":\"Відмінити видалення неможливо.\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ac1074c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app/modules/admin/components/students/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ac1074c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ac1074c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ac1074c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/admin/components/students/index.vue\n// module id = null\n// module chunks = ","import store from '@/store'\r\nimport { student, user, group } from '@/app/api'\r\n\r\nconst state = {\r\n  studentList: [],\r\n  userList: [],\r\n  groupList: []\r\n}\r\n\r\nconst actions = {\r\n  getAll (context) {\r\n    return new Promise((resolve, reject) => {\r\n      student.getAll(result => {\r\n        resolve(result)\r\n        context.commit('setStudentList', result)\r\n      }, reject)\r\n    })\r\n  },\r\n  getById (context, id) {\r\n    return new Promise((resolve, reject) => {\r\n      student.getById(id, resolve, reject)\r\n    })\r\n  },\r\n  getUsers (context) {\r\n    return new Promise((resolve, reject) => {\r\n      user.getAll(result => {\r\n        resolve(result)\r\n        context.commit('setUserList', result)\r\n      }, reject)\r\n    })\r\n  },\r\n  getGroups (context) {\r\n    return new Promise((resolve, reject) => {\r\n      group.getAll(result => {\r\n        resolve(result)\r\n        context.commit('setGroupList', result)\r\n      }, reject)\r\n    })\r\n  },\r\n  add (context, payload) {\r\n    const body = {\r\n      Name: payload.Name,\r\n      RecordBook: payload.RecordBook,\r\n      StudentIdCard: payload.StudentIdCard,\r\n      Email: payload.Email,\r\n      GroupId: payload.GroupId,\r\n      Phone: payload.Phone,\r\n      ApplicationUserId: payload.ApplicationUserId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      student.add(body, result => {\r\n        resolve(result)\r\n        context.commit('addStudent', result)\r\n      }, reject)\r\n    })\r\n  },\r\n  update (context, payload) {\r\n    const body = {\r\n      Id: payload.Id,\r\n      Name: payload.Name,\r\n      RecordBook: payload.RecordBook,\r\n      StudentIdCard: payload.StudentIdCard,\r\n      Email: payload.Email,\r\n      GroupId: payload.GroupId,\r\n      Phone: payload.Phone,\r\n      ApplicationUserId: payload.ApplicationUserId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      student.update(body, result => {\r\n        resolve(result)\r\n        context.commit('updateStudent', result)\r\n      }, reject)\r\n    })\r\n  },\r\n  delete (context, payload) {\r\n    const body = {\r\n      Id: payload.Id,\r\n      Name: payload.Name,\r\n      RecordBook: payload.RecordBook,\r\n      StudentIdCard: payload.StudentIdCard,\r\n      Email: payload.Email,\r\n      GroupId: payload.GroupId,\r\n      Phone: payload.Phone,\r\n      ApplicationUserId: payload.ApplicationUserId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      student.delete(body, () => {\r\n        resolve()\r\n        context.commit('deleteStudent', payload.Id)\r\n      }, reject)\r\n    })\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  studentList: state => state.studentList,\r\n  userKeyValues: state => state.userList.map(item => {\r\n    return {\r\n      value: item.Id,\r\n      text: item.UserName\r\n    }\r\n  }),\r\n  groupKeyValues: state => state.groupList.map(item => {\r\n    return {\r\n      value: item.Id,\r\n      text: item.Name\r\n    }\r\n  })\r\n}\r\n\r\nconst mutations = {\r\n  setStudentList (state, list) {\r\n    state.studentList = list\r\n  },\r\n  setUserList (state, list) {\r\n    state.userList = list\r\n  },\r\n  setGroupList (state, list) {\r\n    state.groupList = list\r\n  },\r\n  addStudent (state, student) {\r\n    state.studentList.push(student)\r\n  },\r\n  updateStudent (state, student) {\r\n    const index = state.studentList.findIndex(a => a.Id === student.Id)\r\n    if (index >= 0) {\r\n      state.studentList.splice(index, 1, student)\r\n    }\r\n  },\r\n  deleteStudent (state, id) {\r\n    const index = state.studentList.findIndex(a => a.Id === student.Id)\r\n    if (index >= 0) {\r\n      state.studentList.splice(index, 1)\r\n    }\r\n  }\r\n}\r\n\r\nstore.registerModule(['admin', 'student'], {\r\n  namespaced: true,\r\n  state,\r\n  actions,\r\n  getters,\r\n  mutations\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/admin/components/students/store.js"],"sourceRoot":""}
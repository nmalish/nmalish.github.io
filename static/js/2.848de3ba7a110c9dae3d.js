webpackJsonp([2],{"4oZG":function(e,t){},"b/xg":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("nH9v"),u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-layout",{attrs:{"justify-space-between":""}},[s("v-flex",{attrs:{xs7:""}},[s("v-card-title",[s("h1",[e._v("Розклад тижня")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-text-field",{staticClass:"search-field",attrs:{"append-icon":"search",label:"Пошук"},model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1)],1),e._v(" "),s("v-flex",{attrs:{xs4:""}},[s("input",{staticClass:"white--text",staticStyle:{width:"145px"},attrs:{type:"file",placeholder:"Імпорт розкладу",color:"blue-grey"},on:{click:function(t){e.loader="loadingFile"}}}),e._v(" "),s("v-btn",{attrs:{loading:e.loadingGenerate,disabled:e.loadingGenerate,color:"info"},on:{click:function(t){e.loader="loadingGenerate"}}},[e._v("\n              Згенерувати\n              "),s("span",{staticClass:"cu lstom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[e._v("cached")])],1)])],1)],1)],1),e._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs7:""}},[s("div",{staticClass:"data-table"},[s("v-data-table",{staticClass:"elevation-1 data-table",attrs:{headers:e.headers,items:e.tableData,search:e.searchFilter,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){var a=t.item;return[s("tr",{attrs:{active:a.Id===e.model.Id},on:{click:function(t){e.rowSelected(a)}}},[s("td",{staticClass:"text-xs-left"},[e._v(e._s(a.GroupName))]),e._v(" "),s("td",{staticClass:"text-xs-left"},[e._v(e._s(a.SpecialtyName))]),e._v(" "),s("td",{staticClass:"text-xs-left"},[e._v(e._s(a.SubjectName))]),e._v(" "),s("td",{staticClass:"text-xs-left"},[e._v(e._s(a.TeacherName))]),e._v(" "),s("td",{staticClass:"text-xs-left"},[e._v(e._s(a.AuditoryName))]),e._v(" "),s("td",{staticClass:"text-xs-left"},[e._v(e._s(a.DayName))])])]}}])})],1),e._v(" "),s("v-layout",{attrs:{"align-center":"","justify-space-between":"",row:"","mt-3":""}},[s("div",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isChanged,expression:"!isChanged"}],attrs:{color:"success"},on:{click:e.addEvent}},[e._v("Додати")]),e._v(" "),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isChanged,expression:"!isChanged"}],attrs:{color:"error"},on:{click:e.deleteEvent}},[e._v("Видалити")])],1),e._v(" "),s("div",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isChanged,expression:"isChanged"}],attrs:{color:"normal"},on:{click:e.cancelEvent}},[e._v("Скасувати")]),e._v(" "),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isChanged,expression:"isChanged"}],attrs:{color:"info"},on:{click:e.saveEvent}},[e._v("Зберегти")])],1)])],1),e._v(" "),s("v-flex",{attrs:{"xs-6":"","offset-xs1":""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-select",{attrs:{items:e.groupKeyValues,rules:e.rules.GroupId,label:"Група",required:"","validate-on-blur":""},model:{value:e.model.GroupId,callback:function(t){e.$set(e.model,"GroupId",t)},expression:"model.GroupId"}}),e._v(" "),s("v-select",{attrs:{items:e.subjectKeyValues,rules:e.rules.SubjectId,label:"Предмет",required:"","validate-on-blur":""},model:{value:e.model.SubjectId,callback:function(t){e.$set(e.model,"SubjectId",t)},expression:"model.SubjectId"}}),e._v(" "),s("v-select",{attrs:{items:e.teacherKeyValues,rules:e.rules.TeacherId,label:"Викладач",required:"","validate-on-blur":""},model:{value:e.model.TeacherId,callback:function(t){e.$set(e.model,"TeacherId",t)},expression:"model.TeacherId"}}),e._v(" "),s("v-select",{attrs:{items:e.auditoryKeyValues,rules:e.rules.AuditoryId,label:"Аудиторія",required:"","validate-on-blur":""},model:{value:e.model.AuditoryId,callback:function(t){e.$set(e.model,"AuditoryId",t)},expression:"model.AuditoryId"}}),e._v(" "),s("v-select",{attrs:{items:e.scheduleTypeKeyValues,rules:e.rules.ScheduleTypeId,label:"Тип",required:"","validate-on-blur":""},model:{value:e.model.ScheduleTypeId,callback:function(t){e.$set(e.model,"ScheduleTypeId",t)},expression:"model.ScheduleTypeId"}}),e._v(" "),s("v-select",{attrs:{items:e.weekDaysKeyValues,rules:e.rules.Day,label:"День",required:"","validate-on-blur":""},model:{value:e.model.Day,callback:function(t){e.$set(e.model,"Day",t)},expression:"model.Day"}}),e._v(" "),s("v-select",{attrs:{items:e.lessonNumberKeyValues,rules:e.rules.LessonNumber,label:"Номер пари",required:"","validate-on-blur":""},model:{value:e.model.LessonNumber,callback:function(t){e.$set(e.model,"LessonNumber",t)},expression:"model.LessonNumber"}})],1)],1)],1)],1)],1),e._v(" "),s("confirm-dialog",{ref:"confirm",attrs:{title:"Ви впевнені?",text:"Відмінити видалення неможливо."}})],1)},staticRenderFns:[]};var l=function(e){s("4oZG")},n=s("VU/8")(a.a,u,!1,l,"data-v-49cac07f",null);t.default=n.exports},nH9v:function(e,t,s){"use strict";(function(e){var a=s("Dd8w"),u=s.n(a),l=(s("qyqM"),s("XhAJ")),n=s("NYxO"),r=s("OzJ6");t.a={mixins:[l.a],components:{ConfirmDialog:r.a},constants:{headers:[{text:"Група",value:"GroupName"},{text:"Спеціальність",value:"SpecialtyName"},{text:"Предмет",value:"SubjectName"},{text:"Викладач",value:"TeacherName"},{text:"Аудиторія",value:"AuditoryName"},{text:"День",value:"DayName"}],rules:{AuditoryId:[function(e){return!!e||"Поле аудиторія обов'язкове"}],GroupId:[function(e){return!!e||"Поле група обов'язкове"}],TeacherId:[function(e){return!!e||"Поле викладач обов'язкове"}],SubjectId:[function(e){return!!e||"Поле предмет обов'язкове"}],ScheduleTypeId:[function(e){return!!e||"Поле тип предмету обов'язкове"}],LessonNumber:[function(e){return!!e||"Поле номер пари обов'язкове"}],Day:[function(e){return!!e||"Поле день обов'язкове"}]}},data:function(){return{loader:null,loadingFile:!1,loadingGenerate:!1}},computed:u()({},Object(n.c)("admin/weekschedule",{tableData:"weekScheduleList",auditoryKeyValues:"auditoryKeyValues",groupKeyValues:"groupKeyValues",subjectKeyValues:"subjectKeyValues",teacherKeyValues:"teacherKeyValues",scheduleTypeKeyValues:"scheduleTypeKeyValues",weekDaysKeyValues:"weekDaysKeyValues",lessonNumberKeyValues:"lessonNumberKeyValues"}),{modelsEqual:function(){return e.valueEquals(this.model.AuditoryId,this.modelCopy.AuditoryId)&&e.valueEquals(this.model.SubjectId,this.modelCopy.SubjectId)&&e.valueEquals(this.model.TeacherId,this.modelCopy.TeacherId)&&e.valueEquals(this.model.Day,this.modelCopy.Day)&&e.valueEquals(this.model.GroupId,this.modelCopy.GroupId)}}),methods:u()({},Object(n.b)("admin/weekschedule",["getAll","getById","getAuditories","getGroups","getSubjects","getTeachers","getScheduleTypes","add","update","delete"])),watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout(function(){return e[t]=!1},3e3),this.loader=null}},created:function(){this.getAuditories(),this.getGroups(),this.getSubjects(),this.getTeachers(),this.getScheduleTypes()}}}).call(t,s("DuR2"))},qyqM:function(e,t,s){"use strict";var a=s("//Fk"),u=s.n(a),l=s("IcnI"),n=s("JjA1"),r={getAll:function(e){return new u.a(function(t,s){n.j.getAll(function(s){t(s),e.commit("setWeekScheduleList",s)},s)})},getById:function(e,t){return new u.a(function(e,s){n.j.getById(t,e,s)})},getAuditories:function(e){return new u.a(function(t,s){n.a.getAll(function(s){t(s),e.commit("setAuditoryList",s)},s)})},getGroups:function(e){return new u.a(function(t,s){n.d.getAll(function(s){t(s),e.commit("setGroupList",s)},s)})},getTeachers:function(e){return new u.a(function(t,s){n.h.getAll(function(s){t(s),e.commit("setTeacherList",s)},s)})},getSubjects:function(e){return new u.a(function(t,s){n.g.getAll(function(s){t(s),e.commit("setSubjectList",s)},s)})},getScheduleTypes:function(e){return new u.a(function(t,s){n.e.getAll(function(s){t(s),e.commit("setScheduleTypeList",s)},s)})},add:function(e,t){var s={Day:t.Day,LessonNumber:t.LessonNumber,ScheduleTypeId:t.ScheduleTypeId,AuditoryId:t.AuditoryId,SubjectId:t.SubjectId,TeacherId:t.TeacherId,GroupId:t.GroupId};return new u.a(function(t,a){n.j.add(s,function(s){t(s),e.commit("addWeekSchedule",s)},a)})},update:function(e,t){var s={Id:t.Id,Day:t.Day,LessonNumber:t.LessonNumber,ScheduleTypeId:t.ScheduleTypeId,AuditoryId:t.AuditoryId,SubjectId:t.SubjectId,TeacherId:t.TeacherId,GroupId:t.GroupId};return new u.a(function(t,a){n.j.update(s,function(s){t(s),e.commit("updateWeekSchedule",s)},a)})},delete:function(e,t){var s={Id:t.Id,Day:t.Day,LessonNumber:t.LessonNumber,ScheduleTypeId:t.ScheduleTypeId,AuditoryId:t.AuditoryId,SubjectId:t.SubjectId,TeacherId:t.TeacherId,GroupId:t.GroupId};return new u.a(function(a,u){n.j.delete(s,function(){a(),e.commit("deleteWeekSchedule",t.Id)},u)})}},i={setWeekScheduleList:function(e,t){e.weekScheduleList=t},setAuditoryList:function(e,t){e.auditoryList=t},setSubjectList:function(e,t){e.subjectList=t},setGroupList:function(e,t){e.groupList=t},setTeacherList:function(e,t){e.teacherList=t},setScheduleTypeList:function(e,t){e.scheduleTypeList=t},addWeekSchedule:function(e,t){e.weekScheduleList.push(t)},updateWeekSchedule:function(e,t){var s=e.weekScheduleList.findIndex(function(e){return e.Id===t.Id});s>=0&&e.auditoryList.splice(s,1,t)},deleteWeekSchedule:function(e,t){var s=e.weekScheduleList.findIndex(function(e){return e.Id===n.j.Id});s>=0&&e.weekScheduleList.splice(s,1)}};l.a.registerModule(["admin","weekschedule"],{namespaced:!0,state:{weekScheduleList:[],weekDays:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],lessonNumbers:[1,2,3,4,5,6],teacherList:[],groupList:[],auditoryList:[],scheduleTypeList:[],subjectList:[]},actions:r,getters:{weekScheduleList:function(e){return e.weekScheduleList.map(function(t){return t.DayName=e.weekDays[t.Day],t})},auditoryKeyValues:function(e){return e.auditoryList.map(function(e){return{value:e.Id,text:e.Name}})},teacherKeyValues:function(e){return e.teacherList.map(function(e){return{value:e.Id,text:e.Name}})},subjectKeyValues:function(e){return e.subjectList.map(function(e){return{value:e.Id,text:e.Name}})},groupKeyValues:function(e){return e.groupList.map(function(e){return{value:e.Id,text:e.Name}})},scheduleTypeKeyValues:function(e){return e.scheduleTypeList.map(function(e){return{value:e.Id,text:e.Name}})},weekDaysKeyValues:function(e){return e.weekDays.map(function(e,t){return{value:t,text:e}})},lessonNumberKeyValues:function(e){return e.lessonNumbers.map(function(e){return{value:e,text:e}})}},mutations:i})}});
//# sourceMappingURL=2.848de3ba7a110c9dae3d.js.map
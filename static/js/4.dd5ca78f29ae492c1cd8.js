webpackJsonp([4],{"1msU":function(e,t){},H005:function(e,t,a){"use strict";(function(e){var n=a("Dd8w"),o=a.n(n),s=(a("Zlqo"),a("XhAJ")),r=a("NYxO"),l=a("OzJ6");t.a={mixins:[s.a],components:{ConfirmDialog:l.a},constants:{headers:[{text:"Name",value:"Name"},{text:"Email",value:"Email"},{text:"Phone",value:"Phone"}],rules:{Name:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=250||"Name must be less than 250 characters"}],RecordBook:[function(e){return/^[0-9]*$/.test(e)||"RecordBook must be valid"}],StudentIdCard:[function(e){return/^[0-9]*$/.test(e)||"StudentIdCard must be valid"}],Phone:[function(e){return/^[0-9]*$/.test(e)||"Phone must be valid"}],Email:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],GroupId:[function(e){return!!e||"Group is required"}]}},computed:o()({},Object(r.c)("admin/student",{tableData:"studentList",userKeyValues:"userKeyValues",groupKeyValues:"groupKeyValues"}),{modelsEqual:function(){return e.valueEquals(this.model.Name,this.modelCopy.Name)&&e.valueEquals(this.model.ApplicationUserId,this.modelCopy.ApplicationUserId)&&e.valueEquals(this.model.Email,this.modelCopy.Email)&&e.valueEquals(this.model.Phone,this.modelCopy.Phone)&&e.valueEquals(this.model.GroupId,this.modelCopy.GroupId)&&e.valueEquals(this.model.StudentIdCard,this.modelCopy.StudentIdCard)&&e.valueEquals(this.model.RecordBook,this.modelCopy.RecordBook)}}),methods:o()({},Object(r.b)("admin/student",["getAll","getById","getUsers","getGroups","add","update","delete"])),created:function(){this.getUsers(),this.getGroups()}}}).call(t,a("DuR2"))},"Wx/G":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("H005"),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-flex",{attrs:{xs7:""}},[a("v-card-title",[a("h1",[e._v("Students")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{staticClass:"search-field",attrs:{"append-icon":"search",label:"Search"},model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:""}},[a("div",{staticClass:"data-table"},[a("v-data-table",{staticClass:"elevation-1 data-table",attrs:{headers:e.headers,items:e.tableData,search:e.searchFilter,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){var n=t.item;return[a("tr",{attrs:{active:n.Id===e.model.Id},on:{click:function(t){e.rowSelected(n)}}},[a("td",{staticClass:"text-xs-left"},[e._v(e._s(n.Name))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(n.Email))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(n.Phone))])])]}}])})],1),e._v(" "),a("v-layout",{attrs:{"align-center":"","justify-space-between":"",row:"","mt-3":""}},[a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isChanged,expression:"!isChanged"}],attrs:{color:"success"},on:{click:e.addEvent}},[e._v("Add")]),e._v(" "),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isChanged,expression:"!isChanged"}],attrs:{color:"error"},on:{click:e.deleteEvent}},[e._v("Delete")])],1),e._v(" "),a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isChanged,expression:"isChanged"}],attrs:{color:"normal"},on:{click:e.cancelEvent}},[e._v("Cancel")]),e._v(" "),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isChanged,expression:"isChanged"}],attrs:{color:"info"},on:{click:e.saveEvent}},[e._v("Save")])],1)])],1),e._v(" "),a("v-flex",{attrs:{"xs-6":"","offset-xs1":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rules.Name,counter:250,label:"Name",required:"","validate-on-blur":""},model:{value:e.model.Name,callback:function(t){e.$set(e.model,"Name",t)},expression:"model.Name"}}),e._v(" "),a("v-text-field",{attrs:{counter:50,rules:e.rules.RecordBook,label:"RecordBook","validate-on-blur":""},model:{value:e.model.RecordBook,callback:function(t){e.$set(e.model,"RecordBook",t)},expression:"model.RecordBook"}}),e._v(" "),a("v-text-field",{attrs:{counter:50,rules:e.rules.StudentIdCard,label:"StudentIdCard","validate-on-blur":""},model:{value:e.model.StudentIdCard,callback:function(t){e.$set(e.model,"StudentIdCard",t)},expression:"model.StudentIdCard"}}),e._v(" "),a("v-text-field",{attrs:{rules:e.rules.Email,label:"Email",required:"","validate-on-blur":""},model:{value:e.model.Email,callback:function(t){e.$set(e.model,"Email",t)},expression:"model.Email"}}),e._v(" "),a("v-text-field",{attrs:{rules:e.rules.Phone,label:"Phone",required:"","validate-on-blur":""},model:{value:e.model.Phone,callback:function(t){e.$set(e.model,"Phone",t)},expression:"model.Phone"}}),e._v(" "),a("v-select",{attrs:{items:e.userKeyValues,label:"User",required:"","validate-on-blur":""},model:{value:e.model.ApplicationUserId,callback:function(t){e.$set(e.model,"ApplicationUserId",t)},expression:"model.ApplicationUserId"}}),e._v(" "),a("v-select",{attrs:{items:e.groupKeyValues,rules:e.rules.GroupId,label:"Group",required:"","validate-on-blur":""},model:{value:e.model.GroupId,callback:function(t){e.$set(e.model,"GroupId",t)},expression:"model.GroupId"}})],1)],1)],1)],1)],1),e._v(" "),a("confirm-dialog",{ref:"confirm",attrs:{title:"Ви впевнені?",text:"Відмінити видалення неможливо."}})],1)},staticRenderFns:[]};var s=function(e){a("1msU")},r=a("VU/8")(n.a,o,!1,s,"data-v-ac1074c2",null);t.default=r.exports},Zlqo:function(e,t,a){"use strict";var n=a("//Fk"),o=a.n(n),s=a("IcnI"),r=a("JjA1"),l={getAll:function(e){return new o.a(function(t,a){r.f.getAll(function(a){t(a),e.commit("setStudentList",a)},a)})},getById:function(e,t){return new o.a(function(e,a){r.f.getById(t,e,a)})},getUsers:function(e){return new o.a(function(t,a){r.i.getAll(function(a){t(a),e.commit("setUserList",a)},a)})},getGroups:function(e){return new o.a(function(t,a){r.d.getAll(function(a){t(a),e.commit("setGroupList",a)},a)})},add:function(e,t){var a={Name:t.Name,RecordBook:t.RecordBook,StudentIdCard:t.StudentIdCard,Email:t.Email,GroupId:t.GroupId,Phone:t.Phone,ApplicationUserId:t.ApplicationUserId};return new o.a(function(t,n){r.f.add(a,function(a){t(a),e.commit("addStudent",a)},n)})},update:function(e,t){var a={Id:t.Id,Name:t.Name,RecordBook:t.RecordBook,StudentIdCard:t.StudentIdCard,Email:t.Email,GroupId:t.GroupId,Phone:t.Phone,ApplicationUserId:t.ApplicationUserId};return new o.a(function(t,n){r.f.update(a,function(a){t(a),e.commit("updateStudent",a)},n)})},delete:function(e,t){var a={Id:t.Id,Name:t.Name,RecordBook:t.RecordBook,StudentIdCard:t.StudentIdCard,Email:t.Email,GroupId:t.GroupId,Phone:t.Phone,ApplicationUserId:t.ApplicationUserId};return new o.a(function(n,o){r.f.delete(a,function(){n(),e.commit("deleteStudent",t.Id)},o)})}},d={setStudentList:function(e,t){e.studentList=t},setUserList:function(e,t){e.userList=t},setGroupList:function(e,t){e.groupList=t},addStudent:function(e,t){e.studentList.push(t)},updateStudent:function(e,t){var a=e.studentList.findIndex(function(e){return e.Id===t.Id});a>=0&&e.studentList.splice(a,1,t)},deleteStudent:function(e,t){var a=e.studentList.findIndex(function(e){return e.Id===r.f.Id});a>=0&&e.studentList.splice(a,1)}};s.a.registerModule(["admin","student"],{namespaced:!0,state:{studentList:[],userList:[],groupList:[]},actions:l,getters:{studentList:function(e){return e.studentList},userKeyValues:function(e){return e.userList.map(function(e){return{value:e.Id,text:e.UserName}})},groupKeyValues:function(e){return e.groupList.map(function(e){return{value:e.Id,text:e.Name}})}},mutations:d})}});
//# sourceMappingURL=4.dd5ca78f29ae492c1cd8.js.map
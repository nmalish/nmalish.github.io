webpackJsonp([4],{H005:function(e,t,n){"use strict";(function(e){var a=n("Dd8w"),o=n.n(a),s=(n("Zlqo"),n("XhAJ")),r=n("NYxO"),l=n("OzJ6");t.a={mixins:[s.a],components:{ConfirmDialog:l.a},constants:{headers:[{text:"ПІБ",value:"Name"},{text:"Email",value:"Email"},{text:"Номер телефону",value:"Phone"}],rules:{Name:[function(e){return!!e||"Поле Ім'я є обовязковим"},function(e){return e&&e.length<=250||"Ім'я має містити не більше 250 символів"}],RecordBook:[function(e){return/^[0-9]*$/.test(e)||"Номер залікової книжки повинен містити тільки цифри"}],StudentIdCard:[function(e){return/^[0-9]*$/.test(e)||"Номер студенського повинен містити тільки цифри"}],Phone:[function(e){return/^[0-9]*$/.test(e)||"Телефон повинен містити тільки цифри"}],Email:[function(e){return!!e||"Поле E-mail є обовязковим"},function(e){return/.+@.+/.test(e)||"Електронна пошта повинна бути дійсною"}],GroupId:[function(e){return!!e||"Group is required"}]}},computed:o()({},Object(r.c)("admin/student",{tableData:"studentList",userKeyValues:"userKeyValues",groupKeyValues:"groupKeyValues"}),{modelsEqual:function(){return e.valueEquals(this.model.Name,this.modelCopy.Name)&&e.valueEquals(this.model.ApplicationUserId,this.modelCopy.ApplicationUserId)&&e.valueEquals(this.model.Email,this.modelCopy.Email)&&e.valueEquals(this.model.Phone,this.modelCopy.Phone)&&e.valueEquals(this.model.GroupId,this.modelCopy.GroupId)&&e.valueEquals(this.model.StudentIdCard,this.modelCopy.StudentIdCard)&&e.valueEquals(this.model.RecordBook,this.modelCopy.RecordBook)}}),methods:o()({},Object(r.b)("admin/student",["getAll","getById","getUsers","getGroups","add","update","delete"])),created:function(){this.getUsers(),this.getGroups()}}}).call(t,n("DuR2"))},"Wx/G":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("H005"),o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-flex",{attrs:{xs7:""}},[n("v-card-title",[n("h1",[e._v("Студенти")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-text-field",{staticClass:"search-field",attrs:{"append-icon":"search",label:"Пошук"},model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1)],1)],1),e._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs7:""}},[n("div",{staticClass:"data-table"},[n("v-data-table",{staticClass:"elevation-1 data-table",attrs:{headers:e.headers,items:e.tableData,search:e.searchFilter,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){var a=t.item;return[n("tr",{attrs:{active:a.Id===e.model.Id},on:{click:function(t){e.rowSelected(a)}}},[n("td",{staticClass:"text-xs-left"},[e._v(e._s(a.Name))]),e._v(" "),n("td",{staticClass:"text-xs-left"},[e._v(e._s(a.Email))]),e._v(" "),n("td",{staticClass:"text-xs-left"},[e._v(e._s(a.Phone))])])]}}])})],1),e._v(" "),n("v-layout",{attrs:{"align-center":"","justify-space-between":"",row:"","mt-3":""}},[n("div",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isChanged,expression:"!isChanged"}],attrs:{color:"success"},on:{click:e.addEvent}},[e._v("Додати")]),e._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isChanged,expression:"!isChanged"}],attrs:{color:"error"},on:{click:e.deleteEvent}},[e._v("Видалити")])],1),e._v(" "),n("div",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isChanged,expression:"isChanged"}],attrs:{color:"normal"},on:{click:e.cancelEvent}},[e._v("Скасувати")]),e._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isChanged,expression:"isChanged"}],attrs:{color:"info"},on:{click:e.saveEvent}},[e._v("Зберегти")])],1)])],1),e._v(" "),n("v-flex",{attrs:{"xs-6":"","offset-xs1":""}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{rules:e.rules.Name,counter:250,label:"ПІБ",required:"","validate-on-blur":""},model:{value:e.model.Name,callback:function(t){e.$set(e.model,"Name",t)},expression:"model.Name"}}),e._v(" "),n("v-text-field",{attrs:{counter:50,rules:e.rules.RecordBook,label:"Номер залікової книжки","validate-on-blur":""},model:{value:e.model.RecordBook,callback:function(t){e.$set(e.model,"RecordBook",t)},expression:"model.RecordBook"}}),e._v(" "),n("v-text-field",{attrs:{counter:50,rules:e.rules.StudentIdCard,label:"Номер студенського квитка","validate-on-blur":""},model:{value:e.model.StudentIdCard,callback:function(t){e.$set(e.model,"StudentIdCard",t)},expression:"model.StudentIdCard"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.rules.Email,label:"Email",required:"","validate-on-blur":""},model:{value:e.model.Email,callback:function(t){e.$set(e.model,"Email",t)},expression:"model.Email"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.rules.Phone,label:"Номер телефону",required:"","validate-on-blur":""},model:{value:e.model.Phone,callback:function(t){e.$set(e.model,"Phone",t)},expression:"model.Phone"}}),e._v(" "),n("v-select",{attrs:{items:e.userKeyValues,label:"Користувач",required:"","validate-on-blur":""},model:{value:e.model.ApplicationUserId,callback:function(t){e.$set(e.model,"ApplicationUserId",t)},expression:"model.ApplicationUserId"}}),e._v(" "),n("v-select",{attrs:{items:e.groupKeyValues,rules:e.rules.GroupId,label:"Група",required:"","validate-on-blur":""},model:{value:e.model.GroupId,callback:function(t){e.$set(e.model,"GroupId",t)},expression:"model.GroupId"}})],1)],1)],1)],1)],1),e._v(" "),n("confirm-dialog",{ref:"confirm",attrs:{title:"Ви впевнені?",text:"Відмінити видалення неможливо."}})],1)},staticRenderFns:[]};var s=function(e){n("gsWU")},r=n("VU/8")(a.a,o,!1,s,"data-v-0872f8dd",null);t.default=r.exports},Zlqo:function(e,t,n){"use strict";var a=n("//Fk"),o=n.n(a),s=n("IcnI"),r=n("JjA1"),l={getAll:function(e){return new o.a(function(t,n){r.f.getAll(function(n){t(n),e.commit("setStudentList",n)},n)})},getById:function(e,t){return new o.a(function(e,n){r.f.getById(t,e,n)})},getUsers:function(e){return new o.a(function(t,n){r.i.getAll(function(n){t(n),e.commit("setUserList",n)},n)})},getGroups:function(e){return new o.a(function(t,n){r.d.getAll(function(n){t(n),e.commit("setGroupList",n)},n)})},add:function(e,t){var n={Name:t.Name,RecordBook:t.RecordBook,StudentIdCard:t.StudentIdCard,Email:t.Email,GroupId:t.GroupId,Phone:t.Phone,ApplicationUserId:t.ApplicationUserId};return new o.a(function(t,a){r.f.add(n,function(n){t(n),e.commit("addStudent",n)},a)})},update:function(e,t){var n={Id:t.Id,Name:t.Name,RecordBook:t.RecordBook,StudentIdCard:t.StudentIdCard,Email:t.Email,GroupId:t.GroupId,Phone:t.Phone,ApplicationUserId:t.ApplicationUserId};return new o.a(function(t,a){r.f.update(n,function(n){t(n),e.commit("updateStudent",n)},a)})},delete:function(e,t){var n={Id:t.Id,Name:t.Name,RecordBook:t.RecordBook,StudentIdCard:t.StudentIdCard,Email:t.Email,GroupId:t.GroupId,Phone:t.Phone,ApplicationUserId:t.ApplicationUserId};return new o.a(function(a,o){r.f.delete(n,function(){a(),e.commit("deleteStudent",t.Id)},o)})}},i={setStudentList:function(e,t){e.studentList=t},setUserList:function(e,t){e.userList=t},setGroupList:function(e,t){e.groupList=t},addStudent:function(e,t){e.studentList.push(t)},updateStudent:function(e,t){var n=e.studentList.findIndex(function(e){return e.Id===t.Id});n>=0&&e.studentList.splice(n,1,t)},deleteStudent:function(e,t){var n=e.studentList.findIndex(function(e){return e.Id===r.f.Id});n>=0&&e.studentList.splice(n,1)}};s.a.registerModule(["admin","student"],{namespaced:!0,state:{studentList:[],userList:[],groupList:[]},actions:l,getters:{studentList:function(e){return e.studentList},userKeyValues:function(e){return e.userList.map(function(e){return{value:e.Id,text:e.UserName}})},groupKeyValues:function(e){return e.groupList.map(function(e){return{value:e.Id,text:e.Name}})}},mutations:i})},gsWU:function(e,t){}});
//# sourceMappingURL=4.7ce174685889e155f146.js.map